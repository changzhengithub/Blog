# 基础问题

## js数据类型

基本类型： Number、String、Boolean、Undefined、Null

引用类型： Object

## Undefined和Null的区别

Null是一个空对象引用，typeof值为object，代表是一个对象，所以最好用于未来可能是对象的值

Undefined表示一个变量没有被声明，或者被声明了但没有被赋值（未初始化）typeof为undefined

## Date

``` js
获取时间戳
Date.now() === (new Date()).getTime()

(new Date()).getDay() // 获取星期

(new Date()).getDate() // 获取日期
```
## Number

``` js
Number(xx) // 把某个值转化为数字类型

num.toFixed(x) // 把数字转换为字符串，返回指定x位小数点数字

parseInt() // 转换为整数 

parseInt(1e1) // 10

parseFloat() // 转换为浮点数
```
## Math

``` js
常量
Math.PI // 返回圆周率

方法
Math.abs()  // 返回绝对值

Math.max()/Math.min() // 返回最大/最小值

Math.random() // 返回0~1随机数

Math.round() // 返回四舍五入整数

Math.floor() // 返回向下取整

Math.ceil() // 返回向上取整
```

***求数组最大值***
``` js
Math.max.apply([], arr)

Math.max(...arr)
```

***求某个区间随机数***

``` js
(max - min) * Math.random() + min

Math.ceil(80 * Math.random() + 20) // 返回 20 ~ 100 的随机整数

Math.floor(100 * Math.random()) 100  // 以内随机整数
```

## 字符串API

``` js
基本
String(xx) // 把某个值转化为字符串

charAt(index) // 返回指定位置字符串

indexOf()  // 查找某个字符串，返回下标，没有返回 -1

str.concat(str1, str2...)  // 连接字符串

str.slice(start, end) // 返回截取某个区间的字符串

str.substr(start, length) // 返回截取指定length字符串

str.split() // 以str中的某个字符分割为数组
  'xhxhxhxhx'.split('h')  // ['x', 'x', 'x', 'x', 'x']

str.trim() // 去掉字符串中的空格

查找

str.match(val)/str.match(regexp) // 检索返回匹配到值的数组
  'h1h2h3'.match(/\d+/g) //  ["1", "2", "3"]

str.replace(regexp/substr, replacement) // 以replacement替换匹配到的正则或字符串
  'xxxhxxh'.replace('h', 'g') // "xxxgxxh" 字符串只匹配第一个
  'xxxhxxHxx'.replace(/h/ig, 'g') // "xxxgxxgxx" 全局匹配
  // $& $1 $2

str.search(val/regexp) // 返回第一个匹配到的字符串的起始位置，没有返回-1 和indexOf类似


ES6
str.includes(x) // 是否包含某个字符串，返回布尔值  比indexOf方便多了
str.startsWith(x) // 返回布尔值，表示参数字符串是否在原字符串的头部。
str.endsWith(x) // 返回布尔值，表示参数字符串是否在原字符串的尾部。

str.repeat(n) // 返回一个新字符串,将原字符串重复n次
```

## 数组API

::: tip
MDN 都有想对应文档，和它的实现方法 [JavaScript 标准内置对象Array](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Array)
::::

``` js
// ...扩展运算符
var arr = [1, 2, 3, 4, 5]
// 复制数组 浅拷贝
var arr2 = [...arr]
// 合并数组
var arr3 = [...arr1, ...arr2]
// push添加数组
arr3.push(...arr2);
// 字符串
[...'hello'] // [ "h", "e", "l", "l", "o" ]
// 解构赋值
var [first, ...rest] = [1, 2, 3, 4, 5];
first // 1
rest  // [2, 3, 4, 5]
// 代替apply方法，如求数组最大值

// API

1. arr.indexOf() // 返回查找值的下标，没有返回-1

2. arr.join() // 用连接符把数组里面的元素连接成字符串
  [1, 3, 4, 5].join('xxx') // "1xxx3xxx4xxx5"

3. arr.slice(start, [end]) // 截取数组，含头不含尾，负数表示倒数第几个，不修改原数组，返回新数组

4. arr.concat('a', arr1, arr2) // 拼接数组, 数组会被打散为单个元素再拼接, 不修改原数组

5. arr.reverse() // 反转数组，修改原数组

6. arr.sort() // 数组排序，直接修改原数组，返回被删除元素组成的子数组
  // 默认按照数组元素第一位的ASCII码从小到大排列。
  // 可以设置下列的比较器函数来控制升序，降序或者打乱。
  arr.sort(function(a,b){return a-b;}); // 升序(只限数组中是数字或者数字字符串)
  arr.sort(function(a,b){return b-a;}); // 降序(只限数组中是数字或者数字字符串)

7. arr.splice(start, n, [value...]) // 删除、替换、插入， 直接修改原数组， 返回所有被删除元素组成的子数组
  // 从第start开始，删除n个，再插入value... 个元素
  // n 为 0 插入value， n不为0 value省略为删除n个，n和value相等为替换
  var arr = [1, 2, 3, 4, 5, 6]
  // 删除
  arr.splice(1, 1) // [2]  arr : [1, 3, 4, 5, 6]
  // 添加
  arr.splice(1, 0, 7, 8) // [] arr: [1, 2, 7, 8, 3, 4, 5, 6]
  // 替换
  arr.splice(1, 1, 9) // [2] arr: [1, 9, 3, 4, 5, 6]

8. arr.forEach((item, index) => {}) // 循环数组

9. arr.every() // 判断数组中的元素是否都符号条件，返回Boolean值
  var bool = [2, 3, 4, 5, 6].every((item) => item > 1)
  console.log(bool); // ture

10. arr.some() // 判断数组中的元素是否有符号元素的，返回Boolean值
  var bool = [2, 3, 4, 5, 6].some((item) => item > 5)  
  console.log(bool); // ture

11. arr.map() // 映射，根据映射规则返回新数组， 新数组和旧数组一一对应关系
  var users = [
    {name: "XiaoChang", "email": "zhang@email.com"},
    {name: "XiaoZhen",   "email": "jiang@email.com"},
    {name: "XiaoCuo",  "email": "li@email.com"}
  ];
  var emails = users.map((user) => user.email);
  console.log(emails.join(", ")); // zhang@email.com, jiang@email.com, li@email.com
  var mapArr = arr.map((item) => item) 
  console.log(mapArr) // [0, 2, 4, 6]  0不会被过滤掉

12. arr.filter() // 筛选数组，条件为true才能被筛选，不和原数组对应
  var arr = [0, 2, 4, 6]
  var filterArr = arr.filter((item) => item)
  console.log(filterArr) // [2, 4, 6]  0会被过滤掉

13. arr.reduce() 
  // arr.reduce(callback(accumulator, currentValue[, index[, array]])[, initialValue])
  // accumulator (acc) (累计器，每次计算前上一次计算结果的值，第一次为initialValue或者数组第一个值)
  // currentValue (cur) (当前值)
  // index (idx) (当前索引)
  // array (src) (源数组)
  // initialValue 累加的第一个初始值，不提供则为数组第一个值

  var arr = [1, 2, 3, 4, 5];
  var reduceVal = arr.reduce((acc, cur) => acc + cur, 10)
  console.log(reduceVal);  // 25
  10 + 1 ==> 11
  11 + 2 ==> 13
  13 + 3 ==> 16
  16 + 4 ==> 20
  20 + 5 ==> 25

14. arr.push() // 末尾添加

15. arr.pop() // 末尾删除

16. arr.unshift() // 开头添加

17. arr.shift() // 开头删除

18. arr.copyWithin(target, start, [end]) // 将start-end的元素浅复制到 tartget 位置，并覆盖掉tartget
  // 将3号位复制到0号位
  [1, 2, 3, 4, 5].copyWithin(0, 3, 4) // [4, 2, 3, 4, 5]

19. arr.fill(value[, start[, end]]) // 用value 填充从start到end的元素 省略全部填充
  [1, 2, 3].fill(4, 0, 1) // [4, 2, 3]

20. arr.find(value, index, arr) // 返回第一个符合条件的元素，并返回该元素，没有返回undefined
  [1, 4, -5, 10].find((n) => n < 0) // -5

21. arr.findIndex(value, index, arr) // 返回第一个符合条件元素的下标，没有返回 -1

22. arr.entries()，arr.keys(), arr.values() // 用于对数组的键值对，键名， 键值进行遍历， 都返回一个遍历器对象
  var arr = ["a", "b", "c"];
  var iterator = arr.entries();
  console.log(iterator.next()); // {value: [0, "a"], done: false}

23. arr.includes()  // 判断是否包含某个值，返回布尔值 代替 indexOf

24. arr.flat(n) // 遍历深层次数组，将多维数组扁平化，变成一位数组 返回新数组，对原数据没有影响
  [1, 2, [3, 4]].flat() // [1, 2, 3, 4]
  // 默认只能拉平1层，拉平多层，可以Infinity作为关键字
  [1, [2, [3]]].flat(Infinity) // [1, 2, 3]

25. arr.flatMap(fn) 
  // 接收一个map函数，对数组执行完map后返回的数组在进行flat() 操作。
  // 只能展开一层数组
  // 返回新数组，对原数据没有影响

  [2, 3, 4].flatMap((x) => [x, x * 2]) // [2, 4, 3, 6, 4, 8]
  // 相当于 [[2, 4], [3, 6], [4, 8]].flat()

26. Array.from() // 将两类对象转为真正的数组
  // 类似数组的对象（array-like object nodeList arguments）和可遍历（iterable）的对象（包括 ES6 新增的数据结构 Set 和 Map）。
  // NodeList对象
  let ps = document.querySelectorAll('p');
  Array.from(ps);
  // 将字符串转化为数组
  Array.from('xxxxx') // ["x", "x", "x", "x", "x"]
    
27. Array.of() // 将一组值，转换为数组, 返回数组
  Array.of(3, 11, 8) // [3,11,8]

28. Array.isArray(xx) // 判断传递的值是不是一个数组，返回布尔值

```

## Object

::: tip
MDN [JavaScript 标准内置对象Object](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Object)
::::

``` js
var obj = {}

// 原型上
obj.constructor // 查看构造函数

obj.toString() // 返回一个表示该对象的字符串

obj.valueOf() // 返回值为该对象的原始值

obj.hasOwnProperty(prop) // 判断一个对象是否具有属性prop且非原型属性， 返回Boolean值
  var obj1 = {a: 1}
  obj1.hasOwnProperty('a') // ture
  obj1.hasOwnProperty('toString') // false
  obj1.hasOwnProperty('hasOwnProperty');   // 返回 false

object.isPrototypeOf(obj) // 判断该对象obj是否存在于另一个对象object的原型链上，object是obj的原型。返回Boolean值
  var obj = {}
  function Bar() {}
  Bar.prototype = obj
  var bar = new Bar()
  obj.isPrototypeOf(bar) // true  bar继承自obj
  Object.prototype.isPrototypeOf(obj) // ture

obj.propertyIsEnumerable(prop) // 判断prop属性是否可枚举，返回Boolean值
  var obj = {a: 1}
  obj.propertyIsEnumerable('a') // ture
  obj.propertyIsEnumerable('length') // false


Object.is() // 方法判断两个值是否为同一个值,与严格比较运算符（===）的行为基本一致。
  Object.is('foo', 'foo') // true

Object.assign(target, ...sources) // 方法用于对象的合并，将源对象（source）的所有可枚举属性，复制到目标对象（target）。返回目标对象。
  // 属于浅拷贝
  // 同名属性被替换
  var target = {a: 1, b: 2}
  var source = {b: 3, c: 4}
  var resultTarget = Object.assign(target, source)
  console.log(resultTarget) // {a: 1, b: 3, c: 4}

Object.create(proto) //创建一个空对象，将这个对象的__proto__属性指向proto对象，proto为null，新对象是空对象，没有原型，不继承任何对象
  // 就是给他的构造函数指定一个原型对象， 新对象能继承proto的属性
  var proto = {a: 1}
  var obj = Object.create(proto)
  console.log(obj) // {}
  console.log(obj.__proto__) // {a: 1}

Object.defineProperty(obj, prop, descriptor) // 在obj对象上定义一个新属性，或者修改现有属性，并返回此对象。
  // descriptor：对这个prop属性进行描述
  // descriptor: {
  //   configurable: 当且仅当该属性的 configurable 键值为 true 时，该属性的描述符才能够被改变，同时该属性也能从对应的对象上被删除。默认为 false
  //   enumerable : 当且仅当该属性的 enumerable 键值为 true 时，该属性才会出现在对象的枚举属性中。 默认为 false
  //   value : 该属性对应的值。可以是任何有效的 JavaScript 值（数值，对象，函数等）。 默认为 undefined
  //   writable : 当且仅当该属性的 writable 键值为 true 时，属性的值，也就是上面的 value，才能被赋值改变。 默认为 false。
  //   get: 属性的 getter 函数
  //   set: 属性的 setter 函数
  // }
  var obj = {}; // 创建一个新对象
  // 在对象中添加一个属性与数据描述符的示例
  Object.defineProperty(obj, "a", {
    value : 37,
    writable : true,
    enumerable : true,
    configurable : true
  });
  console.log(obj) // {a: 37}

  // 修改obj的属性
  Object.defineProperty(obj, "a", {
    value: 38
  })
  console.log(obj) // {a: 38}

Object.keys(obj) // 返回obj键名数组
  var obj = { foo: 'bar', age: 42 };
  Object.keys(obj) // ["foo", "age"]

Object.values(obj) // 返回obj键值数组
  var obj = { foo: 'bar', age: 42 };
  Object.values(obj) // ["bar", 42]

Object.entries(obj) // 返回obj键值对数组
  var obj = { foo: 'bar', age: 42 };
  Object.entries(obj) // [ ["foo", "bar"], ["age", 42] 

Object.fromEntries() // 是Object.entries()的逆操作，用于将一个键值对数组转为对象
  Object.fromEntries([
    ['foo', 'bar'],
    ['baz', 42]
  ])
  // { foo: "bar", baz: 42 }

Object.getPrototypeOf(obj) // 获取对象obj的原型
  var proto = {};
  var obj = Object.create(proto);
  Object.getPrototypeOf(obj) === proto; // true

Object.setPrototypeOf(obj, prototype) // 设置对象obj的原型为prototype
  Object.setPrototypeOf({}, null)  // {}

Object.freeze() // 冻结一个对象, 所有属性都不可能以任何方式被修改
Object.isFrozen() // 判断一个对象是否被冻结。
Object.seal() // 封闭一个对象， 只可修改当前对象，不能添加和删除
Object.isSealed() //判断一个对象是否被密封。

```


## Error对象


## 判断对象还是数组

``` js
1. Array.isArray(xx) // 判断是不是数组

2. instanceOf操作符 

var obj = {}
var arr = []
obj instanceof Object // true
arr instanceof Object // true
obj instanceof Array // false
arr instanceof Array // true

```


## this、apply、call、bind



## 什么是作用域

一个包含变量、对象、函数的集合

## for循环

for循环里只有立即执行的表达式才能实时获取每一个i值，通过在外部调用里面的函数或是setTimeOut等延迟执行的都无法获取实时的值，只能获取最后一个值。

## 闭包

简单讲是可以获取其他函数内部作用域的函数

一个函数保留了访问另一个函数作用域的链接

一个函数创建就形成了一个闭包，因为能访问全局作用域。

可以通过return 或者 把函数赋值给全局变量来实现

闭包只保留作用域的访问权，不能访问具体的值。

## 原型


hasOwnProperty()
isPrototypeOf()
instanceOf()
