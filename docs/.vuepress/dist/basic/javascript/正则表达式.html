<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>正则表达式 | Chang&#39;s blog</title>
    <meta name="generator" content="VuePress 1.5.4">
    <link rel="icon" href="/logo.ico">
    <meta name="description" content="我的个人博客，记录点滴">
    <link rel="preload" href="/assets/css/0.styles.7950d16d.css" as="style"><link rel="preload" href="/assets/js/app.ae51bd60.js" as="script"><link rel="preload" href="/assets/js/2.85410337.js" as="script"><link rel="preload" href="/assets/js/34.049db8b1.js" as="script"><link rel="prefetch" href="/assets/js/10.ecf5bce0.js"><link rel="prefetch" href="/assets/js/11.a91d9344.js"><link rel="prefetch" href="/assets/js/12.d3d1cda8.js"><link rel="prefetch" href="/assets/js/13.fc8b8f20.js"><link rel="prefetch" href="/assets/js/14.30f9aa6c.js"><link rel="prefetch" href="/assets/js/15.8c94c56d.js"><link rel="prefetch" href="/assets/js/16.a4e9f282.js"><link rel="prefetch" href="/assets/js/17.0646c022.js"><link rel="prefetch" href="/assets/js/18.6946ce00.js"><link rel="prefetch" href="/assets/js/19.56af1f1d.js"><link rel="prefetch" href="/assets/js/20.ff2afb2c.js"><link rel="prefetch" href="/assets/js/21.a96e40f5.js"><link rel="prefetch" href="/assets/js/22.be11eedb.js"><link rel="prefetch" href="/assets/js/23.07963a70.js"><link rel="prefetch" href="/assets/js/24.7b2f28bc.js"><link rel="prefetch" href="/assets/js/25.570c8511.js"><link rel="prefetch" href="/assets/js/26.88ca9538.js"><link rel="prefetch" href="/assets/js/27.aa653d89.js"><link rel="prefetch" href="/assets/js/28.e8b6113a.js"><link rel="prefetch" href="/assets/js/29.73f9f6bd.js"><link rel="prefetch" href="/assets/js/3.d8a31682.js"><link rel="prefetch" href="/assets/js/30.fffb4b80.js"><link rel="prefetch" href="/assets/js/31.8fa74f03.js"><link rel="prefetch" href="/assets/js/32.c6d8f72f.js"><link rel="prefetch" href="/assets/js/33.77947dd0.js"><link rel="prefetch" href="/assets/js/35.b6b6ea63.js"><link rel="prefetch" href="/assets/js/36.44da7635.js"><link rel="prefetch" href="/assets/js/37.50a9ca8a.js"><link rel="prefetch" href="/assets/js/38.0b12d46f.js"><link rel="prefetch" href="/assets/js/39.beba49ad.js"><link rel="prefetch" href="/assets/js/4.79e3ce3d.js"><link rel="prefetch" href="/assets/js/40.92e0f5f9.js"><link rel="prefetch" href="/assets/js/41.e4c646a4.js"><link rel="prefetch" href="/assets/js/42.f8edec94.js"><link rel="prefetch" href="/assets/js/43.a5d8ccfe.js"><link rel="prefetch" href="/assets/js/44.719dce88.js"><link rel="prefetch" href="/assets/js/45.bdabd6b4.js"><link rel="prefetch" href="/assets/js/46.cf6245d3.js"><link rel="prefetch" href="/assets/js/47.1bf0b253.js"><link rel="prefetch" href="/assets/js/48.8a813de5.js"><link rel="prefetch" href="/assets/js/49.b07d09e3.js"><link rel="prefetch" href="/assets/js/5.faf0aadd.js"><link rel="prefetch" href="/assets/js/50.355d678d.js"><link rel="prefetch" href="/assets/js/51.027c9cba.js"><link rel="prefetch" href="/assets/js/52.3c7c8322.js"><link rel="prefetch" href="/assets/js/53.0885db7b.js"><link rel="prefetch" href="/assets/js/54.40ff8406.js"><link rel="prefetch" href="/assets/js/55.c40f26e9.js"><link rel="prefetch" href="/assets/js/56.4d8f1fe4.js"><link rel="prefetch" href="/assets/js/57.ba24489f.js"><link rel="prefetch" href="/assets/js/58.1955c572.js"><link rel="prefetch" href="/assets/js/59.78191610.js"><link rel="prefetch" href="/assets/js/6.5a1919b9.js"><link rel="prefetch" href="/assets/js/60.7f5b20c3.js"><link rel="prefetch" href="/assets/js/61.61a50f1e.js"><link rel="prefetch" href="/assets/js/62.9b1e86e4.js"><link rel="prefetch" href="/assets/js/63.059688bd.js"><link rel="prefetch" href="/assets/js/64.eda3f7fc.js"><link rel="prefetch" href="/assets/js/65.af480945.js"><link rel="prefetch" href="/assets/js/66.ca5976c7.js"><link rel="prefetch" href="/assets/js/67.376e9b9d.js"><link rel="prefetch" href="/assets/js/68.3761105a.js"><link rel="prefetch" href="/assets/js/69.712e83a9.js"><link rel="prefetch" href="/assets/js/7.4a19bee3.js"><link rel="prefetch" href="/assets/js/70.cf0bee21.js"><link rel="prefetch" href="/assets/js/71.2885e01c.js"><link rel="prefetch" href="/assets/js/72.43967b54.js"><link rel="prefetch" href="/assets/js/8.ba7d142b.js"><link rel="prefetch" href="/assets/js/9.21ce5afd.js">
    <link rel="stylesheet" href="/assets/css/0.styles.7950d16d.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/img/logo.png" alt="Chang's blog" class="logo"> <span class="site-name can-hide">Chang's blog</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/basic/" class="nav-link router-link-active">
  Basic
</a></div><div class="nav-item"><a href="/vue/" class="nav-link">
  Vue
</a></div><div class="nav-item"><a href="/react/" class="nav-link">
  React
</a></div><div class="nav-item"><a href="/server/" class="nav-link">
  Server
</a></div><div class="nav-item"><a href="/others/" class="nav-link">
  Others
</a></div><div class="nav-item"><a href="https://juejin.im/user/1714893870337518" target="_blank" rel="noopener noreferrer" class="nav-link external">
  掘金
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="https://github.com/changzhengithub" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/basic/" class="nav-link router-link-active">
  Basic
</a></div><div class="nav-item"><a href="/vue/" class="nav-link">
  Vue
</a></div><div class="nav-item"><a href="/react/" class="nav-link">
  React
</a></div><div class="nav-item"><a href="/server/" class="nav-link">
  Server
</a></div><div class="nav-item"><a href="/others/" class="nav-link">
  Others
</a></div><div class="nav-item"><a href="https://juejin.im/user/1714893870337518" target="_blank" rel="noopener noreferrer" class="nav-link external">
  掘金
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="https://github.com/changzhengithub" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>CSS</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>JavaScript</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/basic/javascript/基础问题.html" class="sidebar-link">基础问题</a></li><li><a href="/basic/javascript/字符串API.html" class="sidebar-link">字符串API</a></li><li><a href="/basic/javascript/Number和Math.html" class="sidebar-link">Number和Math</a></li><li><a href="/basic/javascript/数组API.html" class="sidebar-link">数组API</a></li><li><a href="/basic/javascript/Object.html" class="sidebar-link">Object</a></li><li><a href="/basic/javascript/日期Date.html" class="sidebar-link">日期Date</a></li><li><a href="/basic/javascript/错误对象Error.html" class="sidebar-link">错误对象Error</a></li><li><a href="/basic/javascript/正则表达式.html" class="active sidebar-link">正则表达式</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/basic/javascript/this、apply、call、bind.html" class="sidebar-link">this、apply、call、bind</a></li><li><a href="/basic/javascript/原型的理解.html" class="sidebar-link">原型的理解</a></li><li><a href="/basic/javascript/解决跨域问题.html" class="sidebar-link">解决跨域问题</a></li><li><a href="/basic/javascript/事件循环与宏任务、微任务.html" class="sidebar-link">事件循环(Event Loop)</a></li><li><a href="/basic/javascript/变量提升和函数提升.html" class="sidebar-link">变量提升和函数提升</a></li><li><a href="/basic/javascript/防抖与节流.html" class="sidebar-link">防抖与节流</a></li><li><a href="/basic/javascript/赋值与浅拷贝、深拷贝.html" class="sidebar-link">赋值与浅拷贝、深拷贝</a></li><li><a href="/basic/javascript/本地存储.html" class="sidebar-link">本地存储</a></li><li><a href="/basic/javascript/常见代码实现.html" class="sidebar-link">常见代码实现</a></li><li><a href="/basic/javascript/浏览器端数据库indexedDB.html" class="sidebar-link">浏览器端数据库indexedDB</a></li><li><a href="/basic/javascript/短轮询、长轮询、长连接和WebSocket.html" class="sidebar-link">短轮询、长轮询、长连接和WebSocket</a></li><li><a href="/basic/javascript/ajax原理.html" class="sidebar-link">AJAX原理</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>ES6</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Faq</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="正则表达式"><a href="#正则表达式" class="header-anchor">#</a> 正则表达式</h1> <p>RegExp 对象用于将文本与一个模式匹配。</p> <p>有两种方法可以创建一个 RegExp 对象：一种是字面量，另一种是构造函数。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> re <span class="token operator">=</span> <span class="token regex">/ab+c/ig</span><span class="token punctuation">;</span> <span class="token comment">// 字面量</span>
<span class="token keyword">var</span> re <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">RegExp</span><span class="token punctuation">(</span><span class="token string">'ab+c'</span><span class="token punctuation">,</span> <span class="token string">'ig'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 构造函数，遇到特殊字符要多转义一遍</span>
<span class="token keyword">var</span> re <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">RegExp</span><span class="token punctuation">(</span><span class="token regex">/ab+c/</span><span class="token punctuation">,</span> <span class="token string">'ig'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 构造函数</span>
</code></pre></div><p><code>i</code> 表示忽略大小写，<code>g</code> 表示全局查找</p> <p>当使用构造函数创造正则对象时，需要常规的字符转义规则（在前面加反斜杠 \）。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> re <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">RegExp</span><span class="token punctuation">(</span><span class="token string">&quot;\\w+&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> re <span class="token operator">=</span> <span class="token regex">/\w+/</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="实例常用方法"><a href="#实例常用方法" class="header-anchor">#</a> 实例常用方法</h3> <hr> <p><code>re.exec(str)</code> 使用正则规则匹配字符串str，返回一个数组或 null。</p> <div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>常用与匹配特殊格式里的字符串，并返回此字符串，如 <code>[xxxx]</code> 返回括号里的字符。</p> <p>获取URL中的域名或者当前路由。</p></div> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> str <span class="token operator">=</span> <span class="token string">'changzhen hello china!'</span>
<span class="token keyword">var</span> reg <span class="token operator">=</span> <span class="token regex">/a/</span><span class="token punctuation">;</span>

<span class="token keyword">var</span> matches <span class="token operator">=</span> reg<span class="token punctuation">.</span><span class="token function">exec</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span><span class="token punctuation">;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>matches<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token comment">// a</span>

</code></pre></div><p><code>re.test(str)</code> 判断正则表达式与指定的字符串是否匹配。返回 true 或 false。</p> <div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>判断字符串是否包含某个字符等。</p></div> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> str <span class="token operator">=</span> <span class="token string">'hello world!'</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> re <span class="token operator">=</span> <span class="token regex">/hello/</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> result <span class="token operator">=</span> re<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>

</code></pre></div><p>字符串方法 <code>match</code> <code>replace</code> <code>search</code> 都可以接收正则来进行匹配</p> <div class="language-js extra-class"><pre class="language-js"><code>str<span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span>val<span class="token punctuation">)</span><span class="token operator">/</span>str<span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span>regexp<span class="token punctuation">)</span> <span class="token comment">// 检索返回匹配到值的数组</span>
  <span class="token string">'h1h2h3'</span><span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span><span class="token regex">/\d+/g</span><span class="token punctuation">)</span> <span class="token comment">//  [&quot;1&quot;, &quot;2&quot;, &quot;3&quot;]</span>

str<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span>regexp<span class="token operator">/</span>substr<span class="token punctuation">,</span> replacement<span class="token punctuation">)</span> <span class="token comment">// 以replacement替换匹配到的正则或字符串</span>
  <span class="token string">'xxxhxxh'</span><span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token string">'h'</span><span class="token punctuation">,</span> <span class="token string">'g'</span><span class="token punctuation">)</span> <span class="token comment">// &quot;xxxgxxh&quot; 字符串只匹配第一个</span>
  <span class="token string">'xxxhxxHxx'</span><span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex">/h/ig</span><span class="token punctuation">,</span> <span class="token string">'g'</span><span class="token punctuation">)</span> <span class="token comment">// &quot;xxxgxxgxx&quot; 全局匹配</span>
<span class="token comment">// $&amp; $1 $2    $n 代表匹配到的第一个和第二个括号的子字符串匹配。</span>
  <span class="token keyword">var</span> re <span class="token operator">=</span> <span class="token regex">/(\w+)\s(\w+)/</span><span class="token punctuation">;</span>
  <span class="token keyword">var</span> str <span class="token operator">=</span> <span class="token string">&quot;John Smith&quot;</span><span class="token punctuation">;</span>
  <span class="token keyword">var</span> newstr <span class="token operator">=</span> str<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span>re<span class="token punctuation">,</span> <span class="token string">&quot;$2, $1&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>newstr<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 'Smith, John'</span>

str<span class="token punctuation">.</span><span class="token function">search</span><span class="token punctuation">(</span>val<span class="token operator">/</span>regexp<span class="token punctuation">)</span> <span class="token comment">// 返回第一个匹配到的字符串的起始位置，没有返回-1 和indexOf类似</span>
</code></pre></div><h3 id="正则表达式中的特殊字符"><a href="#正则表达式中的特殊字符" class="header-anchor">#</a> 正则表达式中的特殊字符</h3> <p><code>^</code>  匹配输入的开始，以某一个匹配符开头开始匹配，如果开头就不匹配就返回false</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> str <span class="token operator">=</span> <span class="token string">'hello world!'</span>
<span class="token keyword">var</span> reg <span class="token operator">=</span> <span class="token regex">/^o/</span><span class="token punctuation">;</span> <span class="token comment">// 是否以o开头匹配</span>
<span class="token keyword">var</span> reg2 <span class="token operator">=</span> <span class="token regex">/^h/</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> reg3 <span class="token operator">=</span> <span class="token regex">/^[A-Za-z]/</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> reg4 <span class="token operator">=</span> <span class="token regex">/^[0-9]/</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>reg<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// false</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>reg2<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// true</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>reg3<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// true</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>reg4<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// false</span>
</code></pre></div><p><code>$</code>  // 匹配输入的结束，以某一个匹配符为结束，如果不是以这个匹配符结束的就返回false</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> str <span class="token operator">=</span> <span class="token string">'hello world!'</span>
<span class="token keyword">var</span> reg2 <span class="token operator">=</span> <span class="token regex">/!$/</span><span class="token punctuation">;</span>  <span class="token comment">// 是否以！为结束的匹配</span>
<span class="token keyword">var</span> reg3 <span class="token operator">=</span> <span class="token regex">/^[a-z].+!$/</span><span class="token punctuation">;</span>  <span class="token comment">// 以小写字母开头，中间是多个任意字符，以！为结束的正则</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>reg<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// false</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>reg2<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// true</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>reg3<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// true</span>
</code></pre></div><p><code>^</code> 和 <code>$</code> 一起使用，表示字符串开始就要匹配这个规则，然后结尾字符串也要匹配这个规则，不能从某一段字符串匹配。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> str <span class="token operator">=</span> <span class="token string">'1how are you, hello world!'</span>
<span class="token keyword">var</span> reg <span class="token operator">=</span> <span class="token regex">/^[0-9].+!$/</span><span class="token punctuation">;</span>   <span class="token comment">// 以数字开始匹配到!结束</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>reg<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// true</span>
<span class="token comment">// 匹配邮箱</span>
<span class="token keyword">var</span> emil <span class="token operator">=</span> <span class="token string">'1979250385@qq.com'</span>
<span class="token keyword">var</span> reg2 <span class="token operator">=</span> <span class="token regex">/^\w+((-\w+)|(\.\w+))*@[A-Za-z0-9]+((\.|-)[A-Za-z0-9]+)*\.[A-Za-z0-9]+$/ig</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>reg2<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>emil<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// true</span>
</code></pre></div><p><code>\</code> 转义字符串，如要匹配特殊字符 '/' ，使用字面量写法时要使用转义字符 <code>\</code> 对特殊字符 '/' 转义一下，如果使用字符串写法就要多转义一遍才行。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> str <span class="token operator">=</span> <span class="token string">'C:/root'</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> str2 <span class="token operator">=</span> <span class="token string">'xxx xxx'</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> reg <span class="token operator">=</span> <span class="token regex">/^[A-Z]:\//</span>   <span class="token comment">// 匹配C:/ </span>
<span class="token keyword">var</span> reg2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">RegExp</span><span class="token punctuation">(</span><span class="token regex">/^[A-Z]:\//</span><span class="token punctuation">,</span><span class="token string">'i'</span><span class="token punctuation">)</span> <span class="token comment">// 这种和字面量一样转义一遍。</span>

<span class="token keyword">var</span> reg3 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">RegExp</span><span class="token punctuation">(</span><span class="token string">'[a-z]:\\\/'</span><span class="token punctuation">,</span><span class="token string">'i'</span><span class="token punctuation">)</span> <span class="token comment">// 这种要多转义一遍</span>
<span class="token comment">// 使用构造器创建正则时要把转义字符和匹配字符都要转义一遍才行。</span>
<span class="token comment">// \\\/ --&gt; \\ + \/ --&gt; \/ --&gt; /</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>reg<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// true</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>reg2<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// true</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>reg3<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// true</span>
</code></pre></div><p><strong>备选字符集</strong></p> <p><code>[]</code> 表示匹配某些可能出现的字符，每一个字符都可能被匹配，但只能从其中匹配一个，如果是连续的可以用 <code>-</code> 省略。</p> <div class="language- extra-class"><pre class="language-text"><code>[0-9] --&gt; 匹配0-9中的任意一个
[a-z] --&gt; 匹配a-z中的任意一个
[A-Z] --&gt; 匹配A-Z中的任意一个
[0-9a-zA-Z] --&gt; 数字字母中的任意一个
[xyz] --&gt; xyz中的任意一个
[^xyz] --&gt; 除xyz中的任意一个字符
x|y --&gt; 匹配 x 或者 y 。
</code></pre></div><div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> str <span class="token operator">=</span> <span class="token string">'你好啊，你在哪呢0，草'</span>
<span class="token keyword">var</span> reg <span class="token operator">=</span> <span class="token regex">/[草]/</span>
<span class="token keyword">var</span> reg2 <span class="token operator">=</span> <span class="token regex">/[0-9a-zA-Z]/</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>reg<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// true</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>reg2<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// true</span>
</code></pre></div><p><strong>预定义备选字符集</strong></p> <div class="language- extra-class"><pre class="language-text"><code>\d  [0-9] 匹配一个数字
\D  [^0-9] 和\d相反，匹配除[0-9] 之外的
\w  [0-9a-zA-Z_] 大小写字母、数字和 _
\W  [^0-9a-zA-Z_] 大小写字母、数字和 _ 除外的字符
\s  一位空字符 空格 tab （回车换行不行）
\S  一个非空字符
.   一个任意字符  回车换行\n除外
</code></pre></div><p><strong>正则表达式的量词</strong></p> <p>规定量词前面的这个字符集出现的次数</p> <p>第一种确定次数 <code>{}</code></p> <div class="language- extra-class"><pre class="language-text"><code>{n}    匹配了前面一个字符出现了 n 次
{n, }  匹配前一个字符至少出现了n次
{n, m} 匹配前面的字符至少n次，最多m次
</code></pre></div><p>第二种不确定性</p> <div class="language- extra-class"><pre class="language-text"><code>*    0个或者多个 （没有或者有）{0, }
+    1个或者多个 （至少1个）{1, }
?    0个或者1个 （没有或者只有一个） {0, 1}
</code></pre></div><div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> str1 <span class="token operator">=</span> <span class="token string">'changzhen154'</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> str2 <span class="token operator">=</span> <span class="token string">'254653'</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> reg1 <span class="token operator">=</span> <span class="token regex">/^[a-zA-Z0-9]{6,16}$/</span>  <span class="token comment">// 匹配6-16位密码</span>
<span class="token keyword">var</span> reg2 <span class="token operator">=</span> <span class="token regex">/^[0-9]{6}$/</span>  <span class="token comment">// 匹配6位验证码</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>reg1<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>str1<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// true</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>reg2<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>str2<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// true</span>
</code></pre></div><p><strong>分组和捕获</strong></p> <p><code>()</code> 分组：主要作用：要某些字符作为一个整体，控制这个整体出现的次数。分组可以分为两种形式，捕获组和非捕获组。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// abc 三个字符出现0次或者多次</span>
<span class="token punctuation">(</span>abc<span class="token punctuation">)</span><span class="token operator">*</span> 

<span class="token comment">// 手机号前面可以是 0086 或者10086 且只能出现一次</span>
（<span class="token number">0086</span><span class="token operator">|</span><span class="token number">10086</span><span class="token punctuation">)</span><span class="token operator">?</span>\s<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span>\d<span class="token punctuation">{</span><span class="token number">10</span><span class="token punctuation">}</span>
</code></pre></div><p>非捕获 <code>(?:x)</code>  不记住  不能使用\n 来替换使用</p> <p>捕获 <code>(X)</code>  就是用\n 来记住分组，然后接着使用。</p> <p>像下面分组 (foo) (bar) 会匹配到字符串 'foo' 'bar' 并会记住这两个字符串。匹配中的 \1 和 \2 表示第一个和第二个被捕获括号匹配的子字符串，即 foo 和 bar，匹配了原字符串中的后两个单词。可以用\1 和\2 来替代了，就行replace中的 $1,$2。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// </span>
<span class="token keyword">var</span> str <span class="token operator">=</span> <span class="token string">'foo bar foo bar'</span>
<span class="token keyword">var</span> reg <span class="token operator">=</span> <span class="token regex">/(foo) (bar) \1 \2/</span>   <span class="token comment">// /(foo) (bar) (foo) (bar)/</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>reg<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// true</span>

str<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex">/(foo) (bar)/</span><span class="token punctuation">,</span> <span class="token string">'$1 $2'</span><span class="token punctuation">)</span>  <span class="token comment">// &quot;foo bar foo bar&quot;</span>
</code></pre></div><p><code>x(?=y)</code> 匹配'x'仅仅当'x'后面跟着'y'.这种叫做先行断言。</p> <p>例如，/Jack(?=Sprat)/会匹配到'Jack'仅当它后面跟着'Sprat'。/Jack(?=Sprat|Frost)/匹配‘Jack’仅当它后面跟着'Sprat'或者是‘Frost’。但是‘Sprat’和‘Frost’都不是匹配结果的一部分。</p> <p><code>(?&lt;=y)x</code> 匹配'x'仅当'x'前面是'y'.这种叫做后行断言。</p> <p>例如，/(?&lt;=Jack)Sprat/会匹配到' Sprat '仅仅当它前面是' Jack '。/(?&lt;=Jack|Tom)Sprat/匹配‘ Sprat ’仅仅当它前面是'Jack'或者是‘Tom’。但是‘Jack’和‘Tom’都不是匹配结果的一部分。</p> <p><code>x(?!y)</code> 仅仅当'x'后面不跟着'y'时匹配'x'，这被称为正向否定查找。</p> <p>例如，仅仅当这个数字后面没有跟小数点的时候，/\d+(?!.)/ 匹配一个数字。正则表达式/\d+(?!.)/.exec(&quot;3.141&quot;)匹配‘141’而不是‘3.141’</p> <p><code>(?&lt;!y)x</code>	仅仅当'x'前面不是'y'时匹配'x'，这被称为反向否定查找。</p> <p>例如, 仅仅当这个数字前面没有负号的时候，/(?&lt;!-)\d+/ 匹配一个数字。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token regex">/(?&lt;!-)\d+/</span><span class="token punctuation">.</span><span class="token function">exec</span><span class="token punctuation">(</span><span class="token string">'3'</span><span class="token punctuation">)</span> <span class="token comment">// 匹配到 &quot;3&quot;.</span>
<span class="token operator">/</span><span class="token punctuation">(</span><span class="token operator">?</span><span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">-</span><span class="token punctuation">)</span>\d<span class="token operator">+</span><span class="token operator">/</span><span class="token punctuation">.</span><span class="token function">exec</span><span class="token punctuation">(</span><span class="token string">'-3'</span><span class="token punctuation">)</span> <span class="token comment">// 因为这个数字前有负号，所以没有匹配到。</span>
</code></pre></div></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">9/30/2020, 4:41:40 PM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/basic/javascript/错误对象Error.html" class="prev">
        错误对象Error
      </a></span> <span class="next"><a href="/basic/javascript/this、apply、call、bind.html">
        this、apply、call、bind
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.ae51bd60.js" defer></script><script src="/assets/js/2.85410337.js" defer></script><script src="/assets/js/34.049db8b1.js" defer></script>
  </body>
</html>
